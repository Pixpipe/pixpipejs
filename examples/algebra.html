<html>
<head>
  <title>Image2D To Canvas</title>

  <script src="../dist/pixpipe.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,900" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">

  <style>
  #logArea {
    width: 100%;
    height: 300px;
    max-width: 100%;
  }
  </style>

</head>
<body>
  <h1><a href="https://github.com/Pixpipe/pixpipejs"><span style="color: #ff91d7">Pixpipe</span><span style="color: #FFFFFF">js</span></a></h1>
  <p>
  This does the following :
  <ul>
    <li>Perform some basic linear algebra things with <code>pixpipe.Algebra</code></li>
    <li>display the result in console</code></li>
  </ul>

  </p>
  <textarea id="logArea"></textarea>
  Open you Javascript console for a better reading experience.
  
  <script>
  
  var Algebra = pixpipe.Algebra;
  
  // define some matrices.
  // Notice: vastest varying dimension is vertical vectors
  var mat22 = [[11, 12],[21, 22]];
  var mat22_2 = [[4, 2],[7, 6]];
  var mat33 = [[11, 12, 13], [21, 22, 23], [31, 32, 33]];
  var mat33_2 = [[5, 0, 2], [-2, 3, 0], [1, -1, 7]];
  var mat33_3 = [[1, 0, 5], [2, 1, 6], [3, 4, 0]];
  var mat33_4 = [[7, 0, -3], [2, 3, 4], [1, -1, -2]];
  var mat33_5 = [[2, 3, 4], [1, 3, 1], [3, 2, 2]];
  var vec3 = [1, 2, 3];
  
  log("NOTICE: the fastest varying dimesions are the vectical vectors of each matrix.")
  
  // compute a 2x2 matrix determinant
  var det = Algebra.matrixDet2x2( mat22 );
  log( "The determinant of the matrix" );
  log( mat22 );
  log("is " + det);
  log('---');
  
  // tranpose a matrix
  var matT = Algebra.matrixTranspose( mat33 );
  log("The transpose of the matrix")
  log( mat33 )
  log("is")
  log( matT );
  log('---');
  
  // multiply a matrix by a scalar
  var scalar = 10;
  var matMultSc = Algebra.matrixMultiplyScalar( mat33, scalar);
  log("The matrix:")
  log( mat33 )
  log("multiplied by the scalar " + scalar + " is:")
  log( matMultSc );
  log('---');
  
  // The inverse of a 2x2 matrix
  var matInv = Algebra.matrixInverse2x2( mat22_2 );
  log( "The inverse of the matrix" );
  log( mat22_2 );
  log("is ");
  log( matInv );
  log('---');
  
  
  // compute a 2x2 matrix determinant
  var det2 = Algebra.matrixDet3x3( mat33_2 );
  log( "The determinant of the matrix" );
  log( mat33_2 );
  log("is " + det2);
  log('---');
  
  // The inverse of a 2x2 matrix
  var matInv2 = Algebra.matrixInverse3x3( mat33_4 );
  log( "The inverse of the matrix" );
  log( mat33_4 );
  log("is ");
  log( matInv2 );
  log('---');
  
  
  var multMV = Algebra.matrixVectorMutiply(mat33_5, vec3);
  log( "Mulitplying the matrix" );
  log( mat33_5 );
  log("by the vector")
  log( vec3 )
  log("gives the vector");
  log( multMV );
  log('---');
  
  // ---------------------------------------------------------------------------
  
  // log function
  function log( msg ){
    var logArea = document.getElementById("logArea");
    console.log(msg);
    
    if( msg instanceof Object ){
      msg = "<" + msg.constructor.name + ">\n" + JSON.stringify(msg)
    }
    
    if( msg === "---" )
      msg = "----------------------------------------------------------------\n"
    
    logArea.innerHTML += msg;
    logArea.innerHTML += "\n\n";
  }
  
  </script>

</body>
</html>
